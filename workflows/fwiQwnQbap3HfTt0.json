{
  "active": true,
  "connections": {
    "fireflies1": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ActaExtractorAI": {
      "main": [
        [
          {
            "node": "1. Extraer respuesta",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ActaExtractorAI",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "fireflies1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1. Extraer respuesta": {
      "main": [
        [
          {
            "node": "2. Limpieza y parseo JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2. Limpieza y parseo JSON": {
      "main": [
        [
          {
            "node": "3. Valores por defecto",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "3. Valores por defecto": {
      "main": [
        [
          {
            "node": "Almacenamiento Datos",
            "type": "main",
            "index": 0
          },
          {
            "node": "4. Formateo de datos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "4. Formateo de datos": {
      "main": [
        [
          {
            "node": "5. Duplicar Plantilla",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "5. Duplicar Plantilla": {
      "main": [
        [
          {
            "node": "6. Preparar Datos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "6. Preparar Datos": {
      "main": [
        [
          {
            "node": "7. Aplicar cambios Google Docs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "7. Aplicar cambios Google Docs": {
      "main": [
        [
          {
            "node": "8. Descarga docx",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "8. Descarga docx": {
      "main": [
        [
          {
            "node": "9. Cambio de extensiÃ³n",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "9. Cambio de extensiÃ³n": {
      "main": [
        [
          {
            "node": "Enviar documento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "emails mobilvendor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "ActaExtractorAI",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Enviar documento1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "emails mobilvendor": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "fireflies1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-09-09T20:45:56.943Z",
  "id": "fwiQwnQbap3HfTt0",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Alcance_PROD",
  "nodes": [
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.fireflies.ai/graphql",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer 2684c9c2-857e-4548-a17f-e643a202eeb7"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"query\": \"query Transcript($transcriptId: String!) { transcript(id: $transcriptId) { title participants speakers { id name } sentences { speaker_name text } summary { keywords action_items outline shorthand_bullet overview bullet_gist gist short_summary short_overview meeting_type topics_discussed transcript_chapters } } }\",\n  \"variables\": {\n    \"transcriptId\": \"{{ $('Webhook1').item.json.body.meetingId }}\"\n  }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -640,
        128
      ],
      "id": "ee8127ef-702b-4109-840d-ffea4255ebe0",
      "name": "fireflies1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Titulo :  {{ $('fireflies1').item.json.data.transcript.title }}\n\nParticipantes:{{ $('fireflies1').item.json.data.transcript.participants }}\n\nContenido:{{ $('fireflies1').item.json.data.transcript.sentences.map(s => `- ${s.speaker_name}: ${s.text}`).join(\"\\n\")}}",
        "options": {
          "systemMessage": "=# Prompt de AnÃ¡lisis de Reuniones Comerciales\n\nEres un **asistente experto en anÃ¡lisis de reuniones comerciales**.  \nRecibirÃ¡s la transcripciÃ³n de una reuniÃ³n y debes devolver **un Ãºnico objeto JSON plano** con la siguiente estructura exacta.\n\n## âš ï¸ Reglas estrictas\n- Usa exactamente los mismos nombres de campos y estructura que aparecen en la plantilla.  \n- No modifiques, traduzcas, elimines ni inventes nombres de campos.  \n- Si no hay informaciÃ³n para un campo, dÃ©jalo vacÃ­o (`\"\"`) o en `false` o `0` segÃºn corresponda.  \n- La Ãºnica salida debe ser un objeto JSON plano, directamente parseable (ej. con `JSON.parse`).  \n- No envuelvas la respuesta en bloques de cÃ³digo ni uses texto adicional fuera del objeto JSON.  \n- Completa todos los campos, incluso si estÃ¡n vacÃ­os.  \n- Respeta los tipos: texto â†’ `\"\"`, casillas â†’ `true/false`, nÃºmeros â†’ `0`.  \n\n## ðŸ§¾ Campo `\"informacionGeneral\"`\nRedÃ¡ctalo en el siguiente formato exacto, manteniendo encabezados y viÃ±etas:\n\nEmpresa: [Nombre del cliente o distribuidor]\nCiudad de operaciÃ³n: [Ciudad y provincia]\nSector: [Sector o giro de negocio]\nIntroducciÃ³n del negocio: [Breve introducciÃ³n sobre trayectoria, tipo de operaciÃ³n y caracterÃ­sticas relevantes]\nNecesidades del cliente:\nâ€¢ [Necesidad 1]\nâ€¢ [Necesidad 2]\nâ€¢ [Necesidad 3]\nSoluciones brindadas:\nâ€¢ [SoluciÃ³n 1]\nâ€¢ [SoluciÃ³n 2]\nâ€¢ [SoluciÃ³n 3]\n\nSi falta informaciÃ³n, deja el espacio vacÃ­o pero conserva los encabezados y saltos de lÃ­nea.\n\n## ðŸ“ Campo `\"resumen\"`\nRedÃ¡ctalo en un pÃ¡rrafo que responda:\n1. OperaciÃ³n general del cliente  \n2. Sistema actual y sus problemas/ventajas  \n3. Estructura del negocio (roles, funciones)  \n4. Volumen de facturaciÃ³n (si se menciona)  \n5. Nivel de interÃ©s en contratar el servicio  \n\n## ðŸ“¦ Plantilla de salida obligatoria\n```json\n{\n  \"general\": {\n    \"nombreDistribuidorFabricante\": \"\",\n    \"titulo\": \"\",\n    \"telefono\": \"\",\n    \"fecha\": \"{{ $now }}\",\n    \"lugar\": \"Remoto\",\n    \"vigencia\": \"30 dÃ­as hÃ¡biles\",\n    \"informacionGeneral\": \"\"\n  },\n  \"alcanceGlobal\": {\n    \"moduloComercial\": false,\n    \"facturacionElectronica\": false,\n    \"moduloLogistico\": false,\n    \"moduloContable\": false,\n    \"moduloMerchandising\": false,\n    \"desarrollosPersonalizados\": false,\n    \"integracion\": false,\n    \"moduloIntegracion\": false,\n    \"integracionAPI\": false,\n    \"integBasica\": false,\n    \"integMedia\": false,\n    \"integAvanzada\": false\n  },\n  \"moduloComercial\": {\n    \"tipoOperacion\": {\n      \"vendedorPreventa\": false,\n      \"vendedorAutoventa\": false,\n      \"cobranza\": false,\n      \"otros\": \"\"\n    },\n    \"usuarios\": {\n      \"web\": 0,\n      \"app\": 0,\n      \"tipos\": {\n        \"gerenteAdministrador\": 0,\n        \"compras\": 0,\n        \"asistenteAdministrativo\": 0,\n        \"facturador\": 0,\n        \"bodegueros\": 0,\n        \"liquidador\": 0,\n        \"cobranzas\": 0,\n        \"contador\": 0,\n        \"asistenteContable\": 0,\n        \"otros\": 0\n      },\n      \"observaciones\": \"\"\n    },\n    \"baseDeDatos\": {\n      \"menuCatalogo\": {\n        \"categoriaFamiliasMarcas\": false,\n        \"articulos\": false,\n        \"unidadesVenta\": false,\n        \"catalogosDigitales\": false,\n        \"promociones\": false,\n        \"observaciones\": \"\"\n      }\n    },\n    \"inventario\": {\n      \"bodegas\": {\n        \"enable\": false,\n        \"normal\": false,\n        \"local\": false,\n        \"virtual\": false,\n        \"malEstado\": false\n      },\n      \"stockSeguridad\": false,\n      \"observaciones\": \"\"\n    },\n    \"clientes\": {\n      \"menu\": {\n        \"listasPrecios\": false,\n        \"terminosMetodosPago\": false,\n        \"tiposNegocioSubcanalGrupos\": false,\n        \"clientes\": false,\n        \"rutas\": false,\n        \"rutasSupervision\": false,\n        \"planesVentaImpactos\": false\n      },\n      \"observaciones\": \"\"\n    },\n    \"proveedores\": {\n      \"enable\": false,\n      \"observaciones\": \"\"\n    },\n    \"geocercas\": {\n      \"enable\": false,\n      \"observaciones\": \"\"\n    },\n    \"usuariosMenu\": {\n      \"roles\": false,\n      \"grupos\": false,\n      \"departamentosVentas\": false,\n      \"usuarios\": false,\n      \"observaciones\": \"\"\n    },\n    \"procesos\": {\n      \"menuFacturas\": false,\n      \"menuOrdenes\": false,\n      \"menuDevoluciones\": false,\n      \"menuSolicitudDevoluciones\": false,\n      \"menuTransferencias\": false,\n      \"menuCompras\": {\n        \"enable\": false,\n        \"comprasNacionales\": false,\n        \"importaciones\": false,\n        \"mixto\": false\n      },\n      \"menuDevolucionesProveedores\": false,\n      \"menuInventario\": false,\n      \"documentosElectronicosRecibidos\": false,\n      \"menuHistorial\": false,\n      \"menuRastreo\": false,\n      \"menuImportacionPedidosTxt\": false,\n      \"menuProyectoCompras\": false,\n      \"optimizacionRutas\": false,\n      \"observaciones\": \"\",\n      \"dashboard\": {\n        \"monitorGeneral\": false,\n        \"rendimientoFuerzaVentas\": false,\n        \"nivelServicio\": false,\n        \"gestionInventarios\": false,\n        \"fidelizacionClientes\": false,\n        \"evaluacionCuentasPorPagar\": false,\n        \"facturacionGrafica\": false,\n        \"facturasNotasCreditoAutorizadasErrores\": false,\n        \"reportePromocionesUtilizadas\": false,\n        \"resumenVentas\": false,\n        \"visualizacionDiariosPagos\": false,\n        \"observaciones\": \"\"\n      },\n      \"reportes\": false,\n      \"reportesObservaciones\": \"\"\n    }\n  },\n  \"contabilidad\": {\n    \"funcionalidades\": {\n      \"configuracion\": false,\n      \"impuestos\": {\n        \"enable\": false,\n        \"iva15\": false,\n        \"iva0\": false,\n        \"exentoIva\": false,\n        \"ice\": false,\n        \"irbp\": false,\n        \"fundas\": false\n      },\n      \"retenciones\": false,\n      \"monedasTiposCambioBancosChequeras\": false,\n      \"cuentasPorCobrar\": false,\n      \"pagosClientes\": false,\n      \"cuentasPorPagar\": false,\n      \"pagosProveedores\": false,\n      \"reportes\": false,\n      \"observaciones\": \"\"\n    }\n  },\n  \"facturacionElectronica\": {\n    \"funcionalidades\": {\n      \"configuracion\": false,\n      \"autorizacionEmision\": false,\n      \"firmaElectronica\": false,\n      \"secuenciasElectronicas\": false,\n      \"documentosElectronicos\": false,\n      \"documentosElectronicosRecibidos\": false,\n      \"observaciones\": \"\"\n    },\n    \"emisionDocumentos\": {\n      \"rango01000\": false,\n      \"rango10012000\": false,\n      \"rango20013000\": false,\n      \"rango30015000\": false,\n      \"rango500110000\": false,\n      \"rango1000120000\": false,\n      \"rango2000130000\": false,\n      \"rango3000150000\": false,\n      \"rango50001100000\": false,\n      \"ilimitado\": false\n    }\n  },\n  \"moduloLogistico\": {\n    \"generalidades\": false,\n    \"tipo\": {\n      \"despachadorNomina\": false,\n      \"despachadorExterno\": false,\n      \"usoAppMovil\": false,\n      \"usuariosApp\": 0\n    },\n    \"guiasEntrega\": {\n      \"enable\": false,\n      \"equiparPorFacturas\": false,\n      \"equiparPorUsuarios\": false,\n      \"equiparPorGeocercas\": false,\n      \"equiparPorTransferencias\": false\n    },\n    \"observaciones\": \"\"\n  },\n  \"moduloMerchandising\": {\n    \"funcionalidades\": {\n      \"generalidades\": {\n        \"usoAppMovil\": false\n      },\n      \"formas\": false,\n      \"categoriasDeFormas\": false,\n      \"listasDeFormas\": false,\n      \"accionesRequeridas\": false,\n      \"encuestas\": false,\n      \"merchandising\": {\n        \"requerimientosInstalacion\": false,\n        \"instalaciones\": false,\n        \"inventarios\": false,\n        \"crossMerchandising\": false,\n        \"accionesCompetencia\": false\n      }\n    }\n  },\n  \"desarrollosPersonalizados\": {\n    \"personalizacion1\": { \"explicacion\": \"\", \"criticidad\": \"\" },\n    \"personalizacion2\": { \"explicacion\": \"\", \"criticidad\": \"\" },\n    \"personalizacion3\": { \"explicacion\": \"\", \"criticidad\": \"\" }\n  },\n  \"integracion\": { \"tipo\": \"\" },\n  \"resumen\": \"\"\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        1072,
        96
      ],
      "id": "5b72a463-058d-4282-8832-93362b368430",
      "name": "ActaExtractorAI"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1072,
        320
      ],
      "id": "1e208a76-b8cc-4703-93bd-0f382d02eb6d",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "ESQcfuiJYPWo7F8F",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "951deb53-5f0c-4653-98d0-764cc71816e6",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -864,
        128
      ],
      "id": "62058a09-9b46-4628-8ce7-edebc6fbbbcc",
      "name": "Webhook1",
      "webhookId": "951deb53-5f0c-4653-98d0-764cc71816e6"
    },
    {
      "parameters": {
        "content": "## EXTRACCION CON IA\n\nProcesa la transcripciÃ³n con LLM para extraer datos estructurados segÃºn un template especÃ­fico. Temperatura 0 para mÃ¡xima consistencia.",
        "height": 688,
        "width": 432,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        960,
        -176
      ],
      "typeVersion": 1,
      "id": "9d59132b-622b-4508-a05d-8f20ea1d12bc",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## ENTRADA DE DATOS\nPunto de entrada del flujo. Recibe peticiones POST con el meetingId de la reuniÃ³n a procesar.\nObtiene la transcripciÃ³n completa de la reuniÃ³n desde Fireflies usando GraphQL. Incluye tÃ­tulo, participantes, oradores y todas las frases.",
        "height": 688,
        "width": 848,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -880,
        -176
      ],
      "typeVersion": 1,
      "id": "975a11c2-d1c1-491c-8971-85d0be789946",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## LIMPIEZA Y PROCESAMIENTO DE DATOS\n\n1. Extrae Ãºnicamente el campo output de la respuesta de la IA.\n\n2. Convierte la respuesta de texto de la IA en objeto JSON vÃ¡lido. Incluye limpieza de caracteres especiales y correcciÃ³n de formato.\n\n3. Garantiza que todos los campos requeridos estÃ©n presentes con valores por defecto si la IA no los completÃ³.\n",
        "height": 688,
        "width": 656,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1472,
        -176
      ],
      "typeVersion": 1,
      "id": "0188d765-9587-4e99-ba00-2d32a0b3f637",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "## CONVERSIÃ“N Y DESCARGA \n\n8. Descarga el documento completado y lo convierte a formato .docx (Word).\n\n9. Asegura que el archivo tenga la extensiÃ³n .docx correcta para el envÃ­o.",
        "height": 688,
        "width": 576,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3024,
        -176
      ],
      "id": "033704c9-48b1-486a-9ec5-10f544af7d14",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "## GENERACIÃ“N DE DOCUMENTO\n\n4. Prepara los datos para el documento: formatea fechas en espaÃ±ol y convierte booleanos a sÃ­mbolos de checkbox.\n\n5. Crea una copia personalizada de la plantilla de documento con el nombre del cliente.\n\n6. Genera las instrucciones de reemplazo para Google Docs API, convirtiendo los datos en requests de batchUpdate.\n\n7. Aplica todos los reemplazos de texto en el documento de Google Docs usando batchUpdate API.",
        "height": 688,
        "width": 800
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2192,
        -176
      ],
      "typeVersion": 1,
      "id": "e17ae4e8-695e-4c80-b091-0ca8d25ec00e",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "90927d96-adb8-4cb6-8108-efe802c76ecc",
              "name": "output",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1552,
        96
      ],
      "id": "e2a2cb82-7b81-4b82-bc7a-ac464820b370",
      "name": "1. Extraer respuesta"
    },
    {
      "parameters": {
        "jsCode": "const raw = $json[\"output\"] || \"\";\n\n// Elimina delimitadores y limpia caracteres extraÃ±os\nlet cleaned = raw\n  .replace(/^```json\\n?/, '')\n  .replace(/```$/, '')\n  .replace(/\\u00A0/g, ' ')\n  .trim();\n\n// FunciÃ³n para corregir comas faltantes entre claves de objeto\nconst fixMissingCommas = (input) => {\n  return input.replace(/}(\\s*?)\"(\\w+)\":/g, '},\"$2\":');\n};\n\ntry {\n  // Aplica correcciÃ³n de comas\n  let fixedJson = fixMissingCommas(cleaned);\n\n  // Primer parseo: convierte string JSON escapado a string plano\n  let unescaped = JSON.parse(fixedJson);\n\n  // Segundo parseo: convierte string plano a objeto JSON\n  let parsed = typeof unescaped === 'string' ? JSON.parse(unescaped) : unescaped;\n\n  return [{ json: parsed }];\n} catch (error) {\n  throw new Error(\"âŒ Error al parsear JSON:\\n\" + error.message + \"\\n\\nðŸ” Contenido procesado:\\n\" + cleaned);\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1776,
        96
      ],
      "id": "b49bc0b9-42ab-4201-b5f1-ea3d0f23c182",
      "name": "2. Limpieza y parseo JSON"
    },
    {
      "parameters": {
        "jsCode": "// FunciÃ³n para completar campos faltantes de forma recursiva\nfunction completarCampos(obj, plantilla) {\n  for (const key in plantilla) {\n    if (typeof plantilla[key] === \"object\" && plantilla[key] !== null && !Array.isArray(plantilla[key])) {\n      if (!obj[key]) obj[key] = {};\n      completarCampos(obj[key], plantilla[key]);\n    } else {\n      if (obj[key] === undefined || obj[key] === null) {\n        obj[key] = plantilla[key];\n      }\n    }\n  }\n  return obj;\n}\n\n// Plantilla completa con todos los campos por defecto\nconst plantilla = {\n  general: {\n    nombreDistribuidorFabricante: \"\",\n    titulo: \"\",\n    telefono: \"\",\n    fecha: \"\",\n    lugar: \"Remoto\",\n    vigencia: \"30 dÃ­as hÃ¡biles\",\n    informacionGeneral: \"\"\n  },\n  alcanceGlobal: {\n    moduloComercial: false,\n    facturacionElectronica: false,\n    moduloLogistico: false,\n    moduloContable: false, \n    moduloMerchandising: false,\n    desarrollosPersonalizados: false,\n    integracion: false,\n    moduloIntegracion: false,\n    integracionAPI: false\n  },\n  moduloComercial: {\n    tipoOperacion: {\n      vendedorPreventa: false,\n      vendedorAutoventa: false,\n      cobranza: false,\n      otros: \"\"\n    },\n    usuarios: {\n      web: 0,\n      app: 0,\n      tipos: {\n        gerenteAdministrador: 0,\n        compras: 0,\n        asistenteAdministrativo: 0,\n        facturador: 0,\n        bodegueros: 0,\n        liquidador: 0,\n        cobranzas: 0,\n        contador: 0,\n        asistenteContable: 0,\n        otros: 0\n      }\n    },\n    baseDeDatos: {\n      menuCatalogo: {\n        categoriaFamiliasMarcas: false,\n        articulos: false,\n        unidadesVenta: false,\n        plantillasHtml: false,\n        catalogosDigitales: false,\n        promociones: false\n      }\n    },\n    inventario: {\n      bodegas: {\n        normal: false,\n        local: false,\n        virtual: false,\n        malEstado: false\n      },\n      stockSeguridad: false\n    },\n    clientesProveedoresUsuarios: {\n      menuClientes: {\n        listasPrecios: false,\n        terminosMetodosPago: false,\n        tiposNegocioSubcanalGrupos: false,\n        clientes: false,\n        rutas: false,\n        rutasSupervision: false,\n        planesVentaImpactos: false\n      },\n      menuProveedores: { proveedores: false },\n      menuGeocercas: { geocercasGeoAreas: false },\n      menuUsuarios: {\n        roles: false,\n        grupos: false,\n        departamentosVentas: false,\n        usuarios: false\n      }\n    },\n    procesos: {\n      funcionalidades: {\n        menuFacturas: false,\n        menuOrdenes: false,\n        menuDevoluciones: false,\n        menuSolicitudDevoluciones: false,\n        menuTransferencias: false,\n        menuCompras: {\n          mixto: false,\n          comprasNacionales: false,\n          importaciones: false\n        },\n        menuDevolucionesProveedores: false,\n        menuInventario: false,\n        documentosElectronicosRecibidos: false,\n        menuHistorial: false,\n        menuRastreo: false,\n        menuImportacionPedidosTxt: false,\n        menuProyectoCompras: false,\n        optimizacionRutas: false\n      },\n      dashboardGenerales: {\n        rendimientoFuerzaVentas: false,\n        monitorGeneral: false,\n        gestionInventarios: false,\n        fidelizacionClientes: false,\n        facturacionGrafica: false,\n        facturasNotasCreditoAutorizadasErrores: false,\n        reportePromocionesUtilizadas: false,\n        resumenVentas: false,\n        visualizacionDiariosPagos: false,\n        evaluacionCuentasPorPagar: false,\n        nivelServicio: false\n      },\n      reportes: false\n    }\n  },\n  contabilidad: {\n    funcionalidades: {\n      impuestos: {\n        iva15: false,\n        iva0: false,\n        exentoIva: false,\n        ice: false,\n        irbp: false,\n        fundas: false\n      },\n      retenciones: false,\n      configuracion: false,\n      cuentasPorCobrar: false,\n      pagosClientes: false,\n      cuentasPorPagar: false,\n      pagosProveedores: false,\n      reportes: false\n    }\n  },\n  facturacionElectronica: {\n    funcionalidades: {\n      configuracion: false,\n      autorizacionEmision: false,\n      firmaElectronica: false,\n      secuenciasElectronicas: false,\n      emisionDocumentos: false,\n      documentosElectronicos: false,\n      documentosElectronicosRecibidos: false\n    }\n  },\n  moduloLogistico: {\n    funcionalidades: {\n      generalidades: {\n        tipo: {\n          despachadorNomina: false,\n          despachadorExterno: false,\n          otros: \"\"\n        },\n        usoAppMovil: false\n      },\n      guiasDeEntrega: false,\n      optimizacionEntregas: false\n    }\n  },\n  moduloMerchandising: {\n    funcionalidades: {\n      generalidades: { usoAppMovil: false },\n      formas: false,\n      categoriasDeFormas: false,\n      listasDeFormas: false,\n      accionesRequeridas: false,\n      encuestas: false,\n      merchandising: {\n        requerimientosInstalacion: false,\n        instalaciones: false,\n        inventarios: false,\n        crossMerchandising: false,\n        accionesCompetencia: false\n      }\n    }\n  },\n  desarrollosPersonalizados: {\n    personalizacion1: { explicacion: \"\", criticidad: \"baja\" },\n    personalizacion2: { explicacion: \"\", criticidad: \"baja\" },\n    personalizacion3: { explicacion: \"\", criticidad: \"baja\" }\n  },\n  integracion: { tipo: \"\" },\n  resumen: \"\"\n};\n\n// Tu array de entrada\nconst input = $input.all(); // o tu variable que contiene el array de entrada\n\n// Normalizar cada item segÃºn la plantilla\nconst output = input.map(item => completarCampos(item.json, plantilla));\n\n// Retornar array para n8n\nreturn output.map(i => ({ json: i }));\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1968,
        96
      ],
      "id": "8bba1b84-0156-4ce7-8193-4b7dd52206eb",
      "name": "3. Valores por defecto"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1Fp-x0tEkQy81dG3jbtDQHrZRsEHM5pPiCiTCAspH_Kc",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "data",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Fp-x0tEkQy81dG3jbtDQHrZRsEHM5pPiCiTCAspH_Kc/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "general.nombreDistribuidorFabricante": "={{ $json.general.nombreDistribuidorFabricante }}",
            "general.fecha": "={{ $json.general.fecha }}",
            "general.lugar": "={{ $json.general.lugar }}",
            "general.vigencia": "={{ $json.general.vigencia }}",
            "general.informacionGeneral": "={{ $json.general.informacionGeneral }}",
            "alcanceGlobal.moduloComercial": "={{ $json.alcanceGlobal.moduloComercial }}",
            "alcanceGlobal.facturacionElectronica": "={{ $json.alcanceGlobal.facturacionElectronica }}",
            "alcanceGlobal.moduloLogistico": "={{ $json.alcanceGlobal.moduloLogistico }}",
            "alcanceGlobal.moduloMerchandising": "={{ $json.alcanceGlobal.moduloMerchandising }}",
            "alcanceGlobal.desarrollosPersonalizados": "={{ $json.alcanceGlobal.desarrollosPersonalizados }}",
            "alcanceGlobal.integracion": "={{ $json.alcanceGlobal.integracion }}",
            "alcanceGlobal.moduloIntegracion": "={{ $json.alcanceGlobal.moduloIntegracion }}",
            "alcanceGlobal.integracionAPI": "={{ $json.alcanceGlobal.integracionAPI }}",
            "moduloComercial.tipoOperacion.vendedorPreventa": "={{ $json.moduloComercial.tipoOperacion.vendedorPreventa }}",
            "moduloComercial.tipoOperacion.vendedorAutoventa": "={{ $json.moduloComercial.tipoOperacion.vendedorAutoventa }}",
            "moduloComercial.tipoOperacion.cobranza": "={{ $json.moduloComercial.tipoOperacion.cobranza }}",
            "moduloComercial.tipoOperacion.otros": "={{ $json.moduloComercial.tipoOperacion.otros }}",
            "moduloComercial.usuarios.web": "={{ $json.moduloComercial.usuarios.web }}",
            "moduloComercial.usuarios.app": "={{ $json.moduloComercial.usuarios.app }}",
            "moduloComercial.usuarios.tipos.gerenteAdministrador": "={{ $json.moduloComercial.usuarios.tipos.gerenteAdministrador }}",
            "moduloComercial.usuarios.tipos.compras": "={{ $json.moduloComercial.usuarios.tipos.compras }}",
            "moduloComercial.usuarios.tipos.asistenteAdministrativo": "={{ $json.moduloComercial.usuarios.tipos.asistenteAdministrativo }}",
            "moduloComercial.usuarios.tipos.facturador": "={{ $json.moduloComercial.usuarios.tipos.facturador }}",
            "moduloComercial.usuarios.tipos.bodegueros": "={{ $json.moduloComercial.usuarios.tipos.bodegueros }}",
            "moduloComercial.usuarios.tipos.liquidador": "={{ $json.moduloComercial.usuarios.tipos.liquidador }}",
            "moduloComercial.usuarios.tipos.cobranzas": "={{ $json.moduloComercial.usuarios.tipos.cobranzas }}",
            "moduloComercial.usuarios.tipos.contador": "={{ $json.moduloComercial.usuarios.tipos.contador }}",
            "moduloComercial.usuarios.tipos.asistenteContable": "={{ $json.moduloComercial.usuarios.tipos.asistenteContable }}",
            "moduloComercial.usuarios.tipos.otros": "={{ $json.moduloComercial.usuarios.tipos.otros }}",
            "moduloComercial.baseDeDatos.menuCatalogo.categoriaFamiliasMarcas": "={{ $json.moduloComercial.baseDeDatos.menuCatalogo.categoriaFamiliasMarcas }}",
            "moduloComercial.baseDeDatos.menuCatalogo.articulos": "={{ $json.moduloComercial.baseDeDatos.menuCatalogo.articulos }}",
            "moduloComercial.baseDeDatos.menuCatalogo.unidadesVenta": "={{ $json.moduloComercial.baseDeDatos.menuCatalogo.unidadesVenta }}",
            "moduloComercial.baseDeDatos.menuCatalogo.plantillasHtml": "={{ $json.moduloComercial.baseDeDatos.menuCatalogo.plantillasHtml }}",
            "moduloComercial.baseDeDatos.menuCatalogo.catalogosDigitales": "={{ $json.moduloComercial.baseDeDatos.menuCatalogo.catalogosDigitales }}",
            "moduloComercial.baseDeDatos.menuCatalogo.promociones": "={{ $json.moduloComercial.baseDeDatos.menuCatalogo.promociones }}",
            "moduloComercial.inventario.bodegas.normal": "={{ $json.moduloComercial.inventario.bodegas.normal }}",
            "moduloComercial.inventario.bodegas.local": "={{ $json.moduloComercial.inventario.bodegas.local }}",
            "moduloComercial.inventario.bodegas.virtual": "={{ $json.moduloComercial.inventario.bodegas.virtual }}",
            "moduloComercial.inventario.bodegas.malEstado": "={{ $json.moduloComercial.inventario.bodegas.malEstado }}",
            "moduloComercial.inventario.stockSeguridad": "={{ $json.moduloComercial.inventario.stockSeguridad }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.listasPrecios": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.listasPrecios }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.terminosMetodosPago": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.terminosMetodosPago }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.tiposNegocioSubcanalGrupos": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.tiposNegocioSubcanalGrupos }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.clientes": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.clientes }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.rutas": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.rutas }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.rutasSupervision": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.rutasSupervision }}",
            "moduloComercial.clientesProveedoresUsuarios.menuClientes.planesVentaImpactos": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuClientes.planesVentaImpactos }}",
            "moduloComercial.clientesProveedoresUsuarios.menuProveedores.proveedores": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuProveedores.proveedores }}",
            "moduloComercial.clientesProveedoresUsuarios.menuGeocercas.geocercasGeoAreas": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuGeocercas.geocercasGeoAreas }}",
            "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.roles": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuUsuarios.roles }}",
            "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.grupos": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuUsuarios.grupos }}",
            "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.departamentosVentas": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuUsuarios.departamentosVentas }}",
            "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.usuarios": "={{ $json.moduloComercial.clientesProveedoresUsuarios.menuUsuarios.usuarios }}",
            "moduloComercial.procesos.funcionalidades.menuFacturas": "={{ $json.moduloComercial.procesos.funcionalidades.menuFacturas }}",
            "moduloComercial.procesos.funcionalidades.menuOrdenes": "={{ $json.moduloComercial.procesos.funcionalidades.menuOrdenes }}",
            "moduloComercial.procesos.funcionalidades.menuSolicitudDevoluciones": "={{ $json.moduloComercial.procesos.funcionalidades.menuSolicitudDevoluciones }}",
            "moduloComercial.procesos.funcionalidades.menuDevoluciones": "={{ $json.moduloComercial.procesos.funcionalidades.menuDevoluciones }}",
            "moduloComercial.procesos.funcionalidades.menuTransferencias": "={{ $json.moduloComercial.procesos.funcionalidades.menuTransferencias }}",
            "moduloComercial.procesos.funcionalidades.menuCompras.mixto": "={{ $json.moduloComercial.procesos.funcionalidades.menuCompras.mixto }}",
            "moduloComercial.procesos.funcionalidades.menuCompras.comprasNacionales": "={{ $json.moduloComercial.procesos.funcionalidades.menuCompras.comprasNacionales }}",
            "moduloComercial.procesos.funcionalidades.menuCompras.importaciones": "={{ $json.moduloComercial.procesos.funcionalidades.menuCompras.importaciones }}",
            "moduloComercial.procesos.funcionalidades.menuDevolucionesProveedores": "={{ $json.moduloComercial.procesos.funcionalidades.menuDevolucionesProveedores }}",
            "moduloComercial.procesos.funcionalidades.menuInventario": "={{ $json.moduloComercial.procesos.funcionalidades.menuInventario }}",
            "moduloComercial.procesos.funcionalidades.documentosElectronicosRecibidos": "={{ $json.moduloComercial.procesos.funcionalidades.documentosElectronicosRecibidos }}",
            "moduloComercial.procesos.funcionalidades.menuHistorial": "={{ $json.moduloComercial.procesos.funcionalidades.menuHistorial }}",
            "moduloComercial.procesos.funcionalidades.menuRastreo": "={{ $json.moduloComercial.procesos.funcionalidades.menuRastreo }}",
            "moduloComercial.procesos.funcionalidades.menuImportacionPedidosTxt": "={{ $json.moduloComercial.procesos.funcionalidades.menuImportacionPedidosTxt }}",
            "moduloComercial.procesos.funcionalidades.menuProyectoCompras": "={{ $json.moduloComercial.procesos.funcionalidades.menuProyectoCompras }}",
            "moduloComercial.procesos.funcionalidades.optimizacionRutas": "={{ $json.moduloComercial.procesos.funcionalidades.optimizacionRutas }}",
            "moduloComercial.procesos.dashboardGenerales.rendimientoFuerzaVentas": "={{ $json.moduloComercial.procesos.dashboardGenerales.rendimientoFuerzaVentas }}",
            "moduloComercial.procesos.dashboardGenerales.monitorGeneral": "={{ $json.moduloComercial.procesos.dashboardGenerales.monitorGeneral }}",
            "moduloComercial.procesos.dashboardGenerales.gestionInventarios": "={{ $json.moduloComercial.procesos.dashboardGenerales.gestionInventarios }}",
            "moduloComercial.procesos.dashboardGenerales.fidelizacionClientes": "={{ $json.moduloComercial.procesos.dashboardGenerales.fidelizacionClientes }}",
            "moduloComercial.procesos.dashboardGenerales.facturacionGrafica": "={{ $json.moduloComercial.procesos.dashboardGenerales.facturacionGrafica }}",
            "moduloComercial.procesos.dashboardGenerales.facturasNotasCreditoAutorizadasErrores": "={{ $json.moduloComercial.procesos.dashboardGenerales.facturasNotasCreditoAutorizadasErrores }}",
            "moduloComercial.procesos.dashboardGenerales.reportePromocionesUtilizadas": "={{ $json.moduloComercial.procesos.dashboardGenerales.reportePromocionesUtilizadas }}",
            "moduloComercial.procesos.dashboardGenerales.resumenVentas": "={{ $json.moduloComercial.procesos.dashboardGenerales.resumenVentas }}",
            "moduloComercial.procesos.dashboardGenerales.visualizacionDiariosPagos": "={{ $json.moduloComercial.procesos.dashboardGenerales.visualizacionDiariosPagos }}",
            "moduloComercial.procesos.dashboardGenerales.evaluacionCuentasPorPagar": "={{ $json.moduloComercial.procesos.dashboardGenerales.evaluacionCuentasPorPagar }}",
            "moduloComercial.procesos.dashboardGenerales.nivelServicio": "={{ $json.moduloComercial.procesos.dashboardGenerales.nivelServicio }}",
            "moduloComercial.procesos.reportes": "={{ $json.moduloComercial.procesos.reportes }}",
            "contabilidad.funcionalidades.impuestos.iva15": "={{ $json.contabilidad.funcionalidades.impuestos.iva15 }}",
            "contabilidad.funcionalidades.impuestos.iva0": "={{ $json.contabilidad.funcionalidades.impuestos.iva0 }}",
            "contabilidad.funcionalidades.impuestos.exentoIva": "={{ $json.contabilidad.funcionalidades.impuestos.exentoIva }}",
            "contabilidad.funcionalidades.impuestos.ice": "={{ $json.contabilidad.funcionalidades.impuestos.ice }}",
            "contabilidad.funcionalidades.impuestos.irbp": "={{ $json.contabilidad.funcionalidades.impuestos.irbp }}",
            "contabilidad.funcionalidades.impuestos.fundas": "={{ $json.contabilidad.funcionalidades.impuestos.fundas }}",
            "contabilidad.funcionalidades.retenciones": "={{ $json.contabilidad.funcionalidades.retenciones }}",
            "contabilidad.funcionalidades.configuracion": "={{ $json.contabilidad.funcionalidades.configuracion }}",
            "contabilidad.funcionalidades.cuentasPorCobrar": "={{ $json.contabilidad.funcionalidades.cuentasPorCobrar }}",
            "contabilidad.funcionalidades.pagosClientes": "={{ $json.contabilidad.funcionalidades.pagosClientes }}",
            "contabilidad.funcionalidades.cuentasPorPagar": "={{ $json.contabilidad.funcionalidades.cuentasPorPagar }}",
            "contabilidad.funcionalidades.pagosProveedores": "={{ $json.contabilidad.funcionalidades.pagosProveedores }}",
            "contabilidad.funcionalidades.reportes": "={{ $json.contabilidad.funcionalidades.reportes }}",
            "facturacionElectronica.funcionalidades.configuracion": "={{ $json.facturacionElectronica.funcionalidades.configuracion }}",
            "facturacionElectronica.funcionalidades.autorizacionEmision": "={{ $json.facturacionElectronica.funcionalidades.autorizacionEmision }}",
            "facturacionElectronica.funcionalidades.firmaElectronica": "={{ $json.facturacionElectronica.funcionalidades.firmaElectronica }}",
            "facturacionElectronica.funcionalidades.secuenciasElectronicas": "={{ $json.facturacionElectronica.funcionalidades.secuenciasElectronicas }}",
            "facturacionElectronica.funcionalidades.emisionDocumentos": "={{ $json.facturacionElectronica.funcionalidades.emisionDocumentos }}",
            "facturacionElectronica.funcionalidades.documentosElectronicos": "={{ $json.facturacionElectronica.funcionalidades.documentosElectronicos }}",
            "facturacionElectronica.funcionalidades.documentosElectronicosRecibidos": "={{ $json.facturacionElectronica.funcionalidades.documentosElectronicosRecibidos }}",
            "moduloLogistico.funcionalidades.generalidades.tipo.despachadorNomina": "={{ $json.moduloLogistico.funcionalidades.generalidades.tipo.despachadorNomina }}",
            "moduloLogistico.funcionalidades.generalidades.tipo.despachadorExterno": "={{ $json.moduloLogistico.funcionalidades.generalidades.tipo.despachadorExterno }}",
            "moduloLogistico.funcionalidades.generalidades.tipo.otros": "={{ $json.moduloLogistico.funcionalidades.generalidades.tipo.otros }}",
            "moduloLogistico.funcionalidades.guiasDeEntrega": "={{ $json.moduloLogistico.funcionalidades.guiasDeEntrega }}",
            "moduloLogistico.funcionalidades.generalidades.usoAppMovil": "={{ $json.moduloLogistico.funcionalidades.generalidades.usoAppMovil }}",
            "moduloLogistico.funcionalidades.optimizacionEntregas": "={{ $json.moduloLogistico.funcionalidades.optimizacionEntregas }}",
            "moduloMerchandising.funcionalidades.generalidades.usoAppMovil": "={{ $json.moduloMerchandising.funcionalidades.generalidades.usoAppMovil }}",
            "moduloMerchandising.funcionalidades.formas": "={{ $json.moduloMerchandising.funcionalidades.formas }}",
            "moduloMerchandising.funcionalidades.categoriasDeFormas": "={{ $json.moduloMerchandising.funcionalidades.categoriasDeFormas }}",
            "moduloMerchandising.funcionalidades.listasDeFormas": "={{ $json.moduloMerchandising.funcionalidades.listasDeFormas }}",
            "moduloMerchandising.funcionalidades.accionesRequeridas": "={{ $json.moduloMerchandising.funcionalidades.accionesRequeridas }}",
            "moduloMerchandising.funcionalidades.encuestas": "={{ $json.moduloMerchandising.funcionalidades.encuestas }}",
            "moduloMerchandising.funcionalidades.merchandising.requerimientosInstalacion": "={{ $json.moduloMerchandising.funcionalidades.merchandising.requerimientosInstalacion }}",
            "moduloMerchandising.funcionalidades.merchandising.instalaciones": "={{ $json.moduloMerchandising.funcionalidades.merchandising.instalaciones }}",
            "moduloMerchandising.funcionalidades.merchandising.inventarios": "={{ $json.moduloMerchandising.funcionalidades.merchandising.inventarios }}",
            "moduloMerchandising.funcionalidades.merchandising.crossMerchandising": "={{ $json.moduloMerchandising.funcionalidades.merchandising.crossMerchandising }}",
            "moduloMerchandising.funcionalidades.merchandising.accionesCompetencia": "={{ $json.moduloMerchandising.funcionalidades.merchandising.accionesCompetencia }}",
            "desarrollosPersonalizados.personalizacion1.explicacion": "={{ $json.desarrollosPersonalizados.personalizacion1.explicacion }}",
            "desarrollosPersonalizados.personalizacion1.criticidad": "={{ $json.desarrollosPersonalizados.personalizacion1.criticidad }}",
            "desarrollosPersonalizados.personalizacion2.criticidad": "={{ $json.desarrollosPersonalizados.personalizacion2.criticidad }}",
            "desarrollosPersonalizados.personalizacion2.explicacion": "={{ $json.desarrollosPersonalizados.personalizacion2.explicacion }}",
            "desarrollosPersonalizados.personalizacion3.explicacion": "={{ $json.desarrollosPersonalizados.personalizacion3.explicacion }}",
            "desarrollosPersonalizados.personalizacion3.criticidad": "={{ $json.desarrollosPersonalizados.personalizacion3.criticidad }}",
            "integracion.tipo": "={{ $json.integracion.tipo }}",
            "general.meatingID": "={{ $json.general.titulo }}",
            "general.telefono": "={{ $json.general.telefono }}"
          },
          "matchingColumns": [
            "general.meatingID"
          ],
          "schema": [
            {
              "id": "general.meatingID",
              "displayName": "general.meatingID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "general.nombreDistribuidorFabricante",
              "displayName": "general.nombreDistribuidorFabricante",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "general.telefono",
              "displayName": "general.telefono",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "general.fecha",
              "displayName": "general.fecha",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "general.lugar",
              "displayName": "general.lugar",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "general.vigencia",
              "displayName": "general.vigencia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "general.informacionGeneral",
              "displayName": "general.informacionGeneral",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.moduloComercial",
              "displayName": "alcanceGlobal.moduloComercial",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.facturacionElectronica",
              "displayName": "alcanceGlobal.facturacionElectronica",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.moduloLogistico",
              "displayName": "alcanceGlobal.moduloLogistico",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.moduloMerchandising",
              "displayName": "alcanceGlobal.moduloMerchandising",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.desarrollosPersonalizados",
              "displayName": "alcanceGlobal.desarrollosPersonalizados",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.integracion",
              "displayName": "alcanceGlobal.integracion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.moduloIntegracion",
              "displayName": "alcanceGlobal.moduloIntegracion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "alcanceGlobal.integracionAPI",
              "displayName": "alcanceGlobal.integracionAPI",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.tipoOperacion.vendedorPreventa",
              "displayName": "moduloComercial.tipoOperacion.vendedorPreventa",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.tipoOperacion.vendedorAutoventa",
              "displayName": "moduloComercial.tipoOperacion.vendedorAutoventa",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.tipoOperacion.cobranza",
              "displayName": "moduloComercial.tipoOperacion.cobranza",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.tipoOperacion.otros",
              "displayName": "moduloComercial.tipoOperacion.otros",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.web",
              "displayName": "moduloComercial.usuarios.web",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.app",
              "displayName": "moduloComercial.usuarios.app",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.gerenteAdministrador",
              "displayName": "moduloComercial.usuarios.tipos.gerenteAdministrador",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.compras",
              "displayName": "moduloComercial.usuarios.tipos.compras",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.asistenteAdministrativo",
              "displayName": "moduloComercial.usuarios.tipos.asistenteAdministrativo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.facturador",
              "displayName": "moduloComercial.usuarios.tipos.facturador",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.bodegueros",
              "displayName": "moduloComercial.usuarios.tipos.bodegueros",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.liquidador",
              "displayName": "moduloComercial.usuarios.tipos.liquidador",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.cobranzas",
              "displayName": "moduloComercial.usuarios.tipos.cobranzas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.contador",
              "displayName": "moduloComercial.usuarios.tipos.contador",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.asistenteContable",
              "displayName": "moduloComercial.usuarios.tipos.asistenteContable",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.usuarios.tipos.otros",
              "displayName": "moduloComercial.usuarios.tipos.otros",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.baseDeDatos.menuCatalogo.categoriaFamiliasMarcas",
              "displayName": "moduloComercial.baseDeDatos.menuCatalogo.categoriaFamiliasMarcas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.baseDeDatos.menuCatalogo.articulos",
              "displayName": "moduloComercial.baseDeDatos.menuCatalogo.articulos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.baseDeDatos.menuCatalogo.unidadesVenta",
              "displayName": "moduloComercial.baseDeDatos.menuCatalogo.unidadesVenta",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.baseDeDatos.menuCatalogo.plantillasHtml",
              "displayName": "moduloComercial.baseDeDatos.menuCatalogo.plantillasHtml",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.baseDeDatos.menuCatalogo.catalogosDigitales",
              "displayName": "moduloComercial.baseDeDatos.menuCatalogo.catalogosDigitales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.baseDeDatos.menuCatalogo.promociones",
              "displayName": "moduloComercial.baseDeDatos.menuCatalogo.promociones",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.inventario.bodegas.normal",
              "displayName": "moduloComercial.inventario.bodegas.normal",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.inventario.bodegas.local",
              "displayName": "moduloComercial.inventario.bodegas.local",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.inventario.bodegas.virtual",
              "displayName": "moduloComercial.inventario.bodegas.virtual",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.inventario.bodegas.malEstado",
              "displayName": "moduloComercial.inventario.bodegas.malEstado",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.inventario.stockSeguridad",
              "displayName": "moduloComercial.inventario.stockSeguridad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.listasPrecios",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.listasPrecios",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.terminosMetodosPago",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.terminosMetodosPago",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.tiposNegocioSubcanalGrupos",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.tiposNegocioSubcanalGrupos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.clientes",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.clientes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.rutas",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.rutas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.rutasSupervision",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.rutasSupervision",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuClientes.planesVentaImpactos",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuClientes.planesVentaImpactos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuProveedores.proveedores",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuProveedores.proveedores",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuGeocercas.geocercasGeoAreas",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuGeocercas.geocercasGeoAreas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.roles",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.roles",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.grupos",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.grupos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.departamentosVentas",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.departamentosVentas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.usuarios",
              "displayName": "moduloComercial.clientesProveedoresUsuarios.menuUsuarios.usuarios",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuFacturas",
              "displayName": "moduloComercial.procesos.funcionalidades.menuFacturas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuOrdenes",
              "displayName": "moduloComercial.procesos.funcionalidades.menuOrdenes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuDevoluciones",
              "displayName": "moduloComercial.procesos.funcionalidades.menuDevoluciones",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuSolicitudDevoluciones",
              "displayName": "moduloComercial.procesos.funcionalidades.menuSolicitudDevoluciones",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuTransferencias",
              "displayName": "moduloComercial.procesos.funcionalidades.menuTransferencias",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuCompras.mixto",
              "displayName": "moduloComercial.procesos.funcionalidades.menuCompras.mixto",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuCompras.comprasNacionales",
              "displayName": "moduloComercial.procesos.funcionalidades.menuCompras.comprasNacionales",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuCompras.importaciones",
              "displayName": "moduloComercial.procesos.funcionalidades.menuCompras.importaciones",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuDevolucionesProveedores",
              "displayName": "moduloComercial.procesos.funcionalidades.menuDevolucionesProveedores",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuInventario",
              "displayName": "moduloComercial.procesos.funcionalidades.menuInventario",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.documentosElectronicosRecibidos",
              "displayName": "moduloComercial.procesos.funcionalidades.documentosElectronicosRecibidos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuHistorial",
              "displayName": "moduloComercial.procesos.funcionalidades.menuHistorial",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuRastreo",
              "displayName": "moduloComercial.procesos.funcionalidades.menuRastreo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuImportacionPedidosTxt",
              "displayName": "moduloComercial.procesos.funcionalidades.menuImportacionPedidosTxt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.menuProyectoCompras",
              "displayName": "moduloComercial.procesos.funcionalidades.menuProyectoCompras",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.funcionalidades.optimizacionRutas",
              "displayName": "moduloComercial.procesos.funcionalidades.optimizacionRutas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.rendimientoFuerzaVentas",
              "displayName": "moduloComercial.procesos.dashboardGenerales.rendimientoFuerzaVentas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.monitorGeneral",
              "displayName": "moduloComercial.procesos.dashboardGenerales.monitorGeneral",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.gestionInventarios",
              "displayName": "moduloComercial.procesos.dashboardGenerales.gestionInventarios",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.fidelizacionClientes",
              "displayName": "moduloComercial.procesos.dashboardGenerales.fidelizacionClientes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.facturacionGrafica",
              "displayName": "moduloComercial.procesos.dashboardGenerales.facturacionGrafica",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.facturasNotasCreditoAutorizadasErrores",
              "displayName": "moduloComercial.procesos.dashboardGenerales.facturasNotasCreditoAutorizadasErrores",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.reportePromocionesUtilizadas",
              "displayName": "moduloComercial.procesos.dashboardGenerales.reportePromocionesUtilizadas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.resumenVentas",
              "displayName": "moduloComercial.procesos.dashboardGenerales.resumenVentas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.visualizacionDiariosPagos",
              "displayName": "moduloComercial.procesos.dashboardGenerales.visualizacionDiariosPagos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.evaluacionCuentasPorPagar",
              "displayName": "moduloComercial.procesos.dashboardGenerales.evaluacionCuentasPorPagar",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.dashboardGenerales.nivelServicio",
              "displayName": "moduloComercial.procesos.dashboardGenerales.nivelServicio",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloComercial.procesos.reportes",
              "displayName": "moduloComercial.procesos.reportes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.impuestos.iva15",
              "displayName": "contabilidad.funcionalidades.impuestos.iva15",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.impuestos.iva0",
              "displayName": "contabilidad.funcionalidades.impuestos.iva0",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.impuestos.exentoIva",
              "displayName": "contabilidad.funcionalidades.impuestos.exentoIva",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.impuestos.ice",
              "displayName": "contabilidad.funcionalidades.impuestos.ice",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.impuestos.irbp",
              "displayName": "contabilidad.funcionalidades.impuestos.irbp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.impuestos.fundas",
              "displayName": "contabilidad.funcionalidades.impuestos.fundas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.retenciones",
              "displayName": "contabilidad.funcionalidades.retenciones",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.configuracion",
              "displayName": "contabilidad.funcionalidades.configuracion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.cuentasPorCobrar",
              "displayName": "contabilidad.funcionalidades.cuentasPorCobrar",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.pagosClientes",
              "displayName": "contabilidad.funcionalidades.pagosClientes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.cuentasPorPagar",
              "displayName": "contabilidad.funcionalidades.cuentasPorPagar",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.pagosProveedores",
              "displayName": "contabilidad.funcionalidades.pagosProveedores",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "contabilidad.funcionalidades.reportes",
              "displayName": "contabilidad.funcionalidades.reportes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.configuracion",
              "displayName": "facturacionElectronica.funcionalidades.configuracion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.autorizacionEmision",
              "displayName": "facturacionElectronica.funcionalidades.autorizacionEmision",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.firmaElectronica",
              "displayName": "facturacionElectronica.funcionalidades.firmaElectronica",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.secuenciasElectronicas",
              "displayName": "facturacionElectronica.funcionalidades.secuenciasElectronicas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.emisionDocumentos",
              "displayName": "facturacionElectronica.funcionalidades.emisionDocumentos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.documentosElectronicos",
              "displayName": "facturacionElectronica.funcionalidades.documentosElectronicos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "facturacionElectronica.funcionalidades.documentosElectronicosRecibidos",
              "displayName": "facturacionElectronica.funcionalidades.documentosElectronicosRecibidos",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloLogistico.funcionalidades.generalidades.tipo.despachadorNomina",
              "displayName": "moduloLogistico.funcionalidades.generalidades.tipo.despachadorNomina",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloLogistico.funcionalidades.generalidades.tipo.despachadorExterno",
              "displayName": "moduloLogistico.funcionalidades.generalidades.tipo.despachadorExterno",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloLogistico.funcionalidades.generalidades.tipo.otros",
              "displayName": "moduloLogistico.funcionalidades.generalidades.tipo.otros",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloLogistico.funcionalidades.generalidades.usoAppMovil",
              "displayName": "moduloLogistico.funcionalidades.generalidades.usoAppMovil",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloLogistico.funcionalidades.guiasDeEntrega",
              "displayName": "moduloLogistico.funcionalidades.guiasDeEntrega",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloLogistico.funcionalidades.optimizacionEntregas",
              "displayName": "moduloLogistico.funcionalidades.optimizacionEntregas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.generalidades.usoAppMovil",
              "displayName": "moduloMerchandising.funcionalidades.generalidades.usoAppMovil",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.formas",
              "displayName": "moduloMerchandising.funcionalidades.formas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.categoriasDeFormas",
              "displayName": "moduloMerchandising.funcionalidades.categoriasDeFormas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.listasDeFormas",
              "displayName": "moduloMerchandising.funcionalidades.listasDeFormas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.accionesRequeridas",
              "displayName": "moduloMerchandising.funcionalidades.accionesRequeridas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.encuestas",
              "displayName": "moduloMerchandising.funcionalidades.encuestas",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.merchandising.requerimientosInstalacion",
              "displayName": "moduloMerchandising.funcionalidades.merchandising.requerimientosInstalacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.merchandising.instalaciones",
              "displayName": "moduloMerchandising.funcionalidades.merchandising.instalaciones",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.merchandising.inventarios",
              "displayName": "moduloMerchandising.funcionalidades.merchandising.inventarios",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.merchandising.crossMerchandising",
              "displayName": "moduloMerchandising.funcionalidades.merchandising.crossMerchandising",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "moduloMerchandising.funcionalidades.merchandising.accionesCompetencia",
              "displayName": "moduloMerchandising.funcionalidades.merchandising.accionesCompetencia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "desarrollosPersonalizados.personalizacion1.explicacion",
              "displayName": "desarrollosPersonalizados.personalizacion1.explicacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "desarrollosPersonalizados.personalizacion1.criticidad",
              "displayName": "desarrollosPersonalizados.personalizacion1.criticidad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "desarrollosPersonalizados.personalizacion2.explicacion",
              "displayName": "desarrollosPersonalizados.personalizacion2.explicacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "desarrollosPersonalizados.personalizacion2.criticidad",
              "displayName": "desarrollosPersonalizados.personalizacion2.criticidad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "desarrollosPersonalizados.personalizacion3.explicacion",
              "displayName": "desarrollosPersonalizados.personalizacion3.explicacion",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "desarrollosPersonalizados.personalizacion3.criticidad",
              "displayName": "desarrollosPersonalizados.personalizacion3.criticidad",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "integracion.tipo",
              "displayName": "integracion.tipo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        2240,
        -368
      ],
      "id": "fecabc6a-08d8-4635-8eec-8fe2c881c447",
      "name": "Almacenamiento Datos",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "fm3jifX2nPTobuSZ",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Nodo Code: Formatear Fecha + Convertir Booleanos en Checkboxes\n\n// --- 1) Formatear fecha en espaÃ±ol ---\nconst fechaOriginal = $json.general?.fecha || new Date().toISOString();\nconst fecha = new Date(fechaOriginal);\n\nconst meses = [\n  \"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n  \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"\n];\n\nconst dia = fecha.getDate().toString().padStart(2, \"0\");\nconst mes = meses[fecha.getMonth()];\nconst anio = fecha.getFullYear();\n\n// --- 2) Convertir booleanos a sÃ­mbolos de checkbox ---\nfunction checkbox(value) {\n  return value ? \"â˜’\" : \"â˜\"; // puedes usar \"âœ…\" si prefieres un check verde\n}\n\n// Clonamos el objeto de entrada\nconst data = { ...$json };\n\n// Sobrescribimos fecha\ndata.general = {\n  ...data.general,\n  fecha: `${dia} de ${mes} de ${anio}`\n};\n\n// Mapeamos alcanceGlobal\nconst alcanceGlobal = data.alcanceGlobal || {};\ndata.alcanceGlobal = {\n  ...alcanceGlobal,\n  moduloComercial: checkbox(alcanceGlobal.moduloComercial),\n  facturacionElectronica: checkbox(alcanceGlobal.facturacionElectronica),\n  moduloLogistico: checkbox(alcanceGlobal.moduloLogistico),\n  moduloContable: checkbox(alcanceGlobal.moduloContable),\n  moduloMerchandising: checkbox(alcanceGlobal.moduloMerchandising),\n  desarrollosPersonalizados: checkbox(alcanceGlobal.desarrollosPersonalizados),\n  integracion: checkbox(alcanceGlobal.integracion),\n  moduloIntegracion: checkbox(alcanceGlobal.moduloIntegracion),\n  integracionAPI: checkbox(alcanceGlobal.integracionAPI),\n  integBasica: checkbox(alcanceGlobal.integBasica),\n  integMedia: checkbox(alcanceGlobal.integMedia),\n  integAvanzada: checkbox(alcanceGlobal.integAvanzada)\n};\n\n// --- 3) Retorno final ---\nreturn { json: data };\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2240,
        96
      ],
      "id": "3111556f-c0a1-4f8f-b762-1c1e3b26eb5d",
      "name": "4. Formateo de datos"
    },
    {
      "parameters": {
        "operation": "copy",
        "fileId": {
          "__rl": true,
          "value": "1jDttO1itnkrcgO1WxeI2MlVWaFbTLQ84D19LEJ_DiMM",
          "mode": "id"
        },
        "options": {
          "name": "=INFORME ALCANCE_{{ $json.general.nombreDistribuidorFabricante }}"
        }
      },
      "name": "5. Duplicar Plantilla",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 2,
      "position": [
        2432,
        96
      ],
      "id": "d8eec6d4-4c05-4202-802b-f2420b14665f",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "nS2jCbjxOoaDloUK",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const datosOriginales = $items(\"4. Formateo de datos\")[0].json;  \nconst copiaDrive = $json; \n\n// âœ… ConstrucciÃ³n de requests con conversiÃ³n a String\nfunction buildRequests(obj, prefix = \"\") {\n  const result = [];\n  for (const key in obj) {\n    const value = obj[key];\n    const fullKey = prefix ? `${prefix}.${key}` : key;\n\n    if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n      result.push(...buildRequests(value, fullKey));\n    } else if (fullKey.trim() !== \"\") {\n      const safeValue = value === undefined || value === null ? \"\" : String(value);\n      result.push({\n        replaceAllText: {\n          containsText: { text: `{{${fullKey}}}`, matchCase: true },\n          replaceText: safeValue\n        }\n      });\n    }\n  }\n  return result;\n}\n\n// âœ… Fecha: solo la generamos si no viene\nif (!datosOriginales.general) datosOriginales.general = {};\nif (!datosOriginales.general.fecha) {\n  const fecha = new Date();\n  const meses = [\"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\"];\n  const dia = String(fecha.getDate()).padStart(2,\"0\");\n  datosOriginales.general.fecha = `${dia} de ${meses[fecha.getMonth()]} de ${fecha.getFullYear()}`;\n}\n\n// âœ… TransformaciÃ³n de booleanos en checkboxes\nfunction checkbox(v){ return v ? \"â˜’\" : \"â˜\"; }\nfunction transformBooleans(obj){\n  if (!obj) return;\n  for (const k in obj){\n    if (typeof obj[k] === \"boolean\") obj[k] = checkbox(obj[k]);\n    else if (typeof obj[k] === \"object\") transformBooleans(obj[k]);\n  }\n}\ntransformBooleans(datosOriginales);\n\nreturn {\n  json: {\n    ...datosOriginales,\n    documentId: copiaDrive.id,\n    requests: buildRequests(datosOriginales)\n  }\n};\n"
      },
      "name": "6. Preparar Datos",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2624,
        96
      ],
      "id": "03a8089d-5fc0-413a-9b82-96a9aa5c4f3f"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://docs.googleapis.com/v1/documents/{{ $('5. Duplicar Plantilla').item.json.id }}:batchUpdate ",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "requests",
              "value": "={{ $json.requests }}"
            }
          ]
        },
        "options": {}
      },
      "name": "7. Aplicar cambios Google Docs",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [
        2816,
        96
      ],
      "id": "cf8e7b14-5f11-49b2-badc-6af147b87926",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vPglzhiuQ5p9WFvF",
          "name": "Google account"
        }
      }
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $('5. Duplicar Plantilla').item.json.id }}",
          "mode": "id"
        },
        "options": {
          "googleFileConversion": {
            "conversion": {
              "docsToFormat": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        3088,
        96
      ],
      "id": "f379da4b-2da0-4518-b005-5ea13686223e",
      "name": "8. Descarga docx",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "nS2jCbjxOoaDloUK",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Preserva TODOS los datos y solo modifica el fileName para agregar la extensiÃ³n .docx\nconst items = $input.all();\n\nfor (let item of items) {\n  if (item.binary && item.binary.data) {\n    // Obtiene el nombre actual, o usa \"Alcance\" si estÃ¡ vacÃ­o\n    const nombreActual = item.binary.data.fileName || 'Alcance';\n    // Si ya termina en .docx, no lo modifica\n    if (!nombreActual.toLowerCase().endsWith('.docx')) {\n      item.binary.data.fileName = `${nombreActual}.docx`;\n    }\n  }\n}\n\nreturn items;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3312,
        96
      ],
      "id": "0c2c6490-c7ed-4e9c-933f-ccaff8199867",
      "name": "9. Cambio de extensiÃ³n"
    },
    {
      "parameters": {
        "toRecipients": "=e.andrade@mobilvendor.com, {{ $('emails mobilvendor').item.json.mobilvendor_emails_string }}",
        "subject": "=Alcance {{ $('6. Preparar Datos').item.json.general.nombreDistribuidorFabricante }}",
        "bodyContent": "=<p><b>ðŸ“‹ InformaciÃ³n General</b></p>\n<div style=\"font-size:14px; line-height:1.6;\">\n{{\n  $('6. Preparar Datos').item.json.general.informacionGeneral\n    // Convertir tÃ­tulos a negrita y separar en pÃ¡rrafos\n    .replace(/Empresa:/g, '<p><b>Empresa:</b>')\n    .replace(/Ciudad de operaciÃ³n:/g, '</p><p><b>Ciudad de operaciÃ³n:</b>')\n    .replace(/Sector:/g, '</p><p><b>Sector:</b>')\n    .replace(/IntroducciÃ³n del negocio:/g, '</p><p><b>IntroducciÃ³n del negocio:</b>')\n    .replace(/Necesidades del cliente:/g, '</p><p><b>Necesidades del cliente:</b></p><ul>')\n    .replace(/Soluciones brindadas:/g, '</ul><p><b>Soluciones brindadas:</b></p><ul>')\n    // Dividir por saltos de lÃ­nea, limpiar lÃ­neas vacÃ­as y eliminar \"â€¢\"\n    .split(/\\n+/)\n    .filter(line => line.trim() !== '')\n    .map(line => {\n      if (!/<p><b>/.test(line)) {\n        return `<li>${line.replace(/â€¢\\s*/g, '').trim()}</li>`;\n      }\n      return line;\n    })\n    .join('')\n    .concat('</ul>')\n}}\n</div>\n",
        "additionalFields": {
          "attachments": {
            "attachments": [
              {
                "binaryPropertyName": "=data"
              }
            ]
          },
          "bodyContentType": "html"
        }
      },
      "type": "n8n-nodes-base.microsoftOutlook",
      "typeVersion": 2,
      "position": [
        3680,
        96
      ],
      "id": "fea64904-399a-45aa-a1f9-5d1484405d88",
      "name": "Enviar documento",
      "webhookId": "7b94c5e5-baa8-4ada-aea4-9997c240c25f",
      "credentials": {
        "microsoftOutlookOAuth2Api": {
          "id": "3wq3MUjuKHh1AuNy",
          "name": "Microsoft Outlook account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('fireflies1').item.json.data.transcript.title }}",
        "options": {
          "systemMessage": "=ROL\nEres un clasificador profesional. Tu Ãºnica tarea es leer el TÃTULO de una reuniÃ³n y responder con una sola palabra: \"alcance\" u \"otro\".\n\nOBJETIVO\nClasifica el tÃ­tulo en:\n- \"alcance\": prestaciÃ³n/alcance/propuesta/cotizaciÃ³n/negociaciÃ³n comercial con clientes, ventas, oportunidades, cierre, pricing.\n- \"otro\": todo lo demÃ¡s (reuniones internas, seguimiento, soporte, capacitaciÃ³n, tÃ©cnico, administrativo/financiero/contable/tesorerÃ­a, factoring, crÃ©dito, banca, presupuesto, PAC/No PAC, auditorÃ­a, SRI/IESS, compras/licitaciÃ³n/contrataciÃ³n pÃºblica).\n\nROBUSTEZ A ERRORES\nDebes tolerar errores ortogrÃ¡ficos, mayÃºsculas/minÃºsculas, guiones y subrayados. Normaliza el texto: pÃ¡salo a minÃºsculas, quita acentos, reemplaza separadores (_ - . /) por espacios y colapsa espacios.\n\nREGLAS DE DECISIÃ“N (PRIORIDAD)\n1) CLAVES DURAS â†’ \"alcance\" si aparece al menos una:\n   presentacion, presentaciÃ³n, alcance, propuesta, cotizacion, cotizaciÃ³n,\n   negociacion, negociaciÃ³n, venta, ventas, cierre, pricing\n   (acepta variantes con typos razonables, p.ej. â€œpresntacionâ€, â€œalcnaseâ€, â€œcotizaiconâ€).\n2) NEGATIVAS (si NO hay clave dura) â†’ \"otro\":\n   onboarding, levantamiento, implementacion, implementaciÃ³n, soporte,\n   postventa, seguimiento, kickoff, induccion, inducciÃ³n, capacitacion, capacitaciÃ³n,\n   tecnico, tÃ©cnica, tecnico, tecnico/a, \n   presupuesto, factoring, tesoreria, tesorerÃ­a, auditoria, auditorÃ­a,\n   licitacion, licitaciÃ³n, compras, sri, iess, administrativo, contable, financiero, banca, crÃ©dito, pac, no pac.\n3) PALABRAS SUAVES:\n   â€œcomercialâ€ por sÃ­ sola NO es suficiente para â€œalcanceâ€. Solo cuenta si coexiste con una CLAVE DURA.\n4) CRITERIO CONSERVADOR:\n   Si hay conflicto o duda, responde \"otro\".\n\nSALIDA ESTRICTA\nResponde ÃšNICAMENTE con: alcance  OR  otro\n(en minÃºsculas, sin espacios extra, sin puntuaciÃ³n, sin explicaciones).\n\nEJEMPLOS DE REFERENCIA (no los imprimas, solo Ãºsalos como guÃ­a):\n- \"PrestaciÃ³n Alcance Comercial con Distribuidor XYZ\" â†’ alcance\n- \"PRESENTACION ALCANCE_COMERCIAL_CLIENTE XYZ\" â†’ alcance\n- \"Alcance â€“ Propuesta inicial\" â†’ alcance\n- \"NegociaciÃ³n de cotizaciÃ³n cliente ABC\" â†’ alcance\n- \"LEVANTAMIENTO_ONBOARDING_COMERCIAL\" â†’ otro\n- \"ReuniÃ³n Factoring\" â†’ otro\n- \"Seguimiento interno del sprint\" â†’ otro\n- \"Soporte tÃ©cnico: error de facturaciÃ³n\" â†’ otro\n- \"REUNION_FINANCIERO_PRESUPUESTO\" â†’ otro\n- \"CAPACITACION_RRHH_SOPORTE\" â†’ otro\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        112,
        112
      ],
      "id": "2b630b05-a3cc-4a76-b7c5-cb86a0cb3240",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "62526bc3-581b-4476-89d1-287789c10845",
              "leftValue": "={{ $('AI Agent').item.json.output }}",
              "rightValue": "alcance",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        736,
        112
      ],
      "id": "993caccf-92cd-48bb-8810-e6f0ba8c64f8",
      "name": "If"
    },
    {
      "parameters": {
        "toRecipients": "=e.andrade@mobilvendor.com, {{ $('emails mobilvendor').item.json.mobilvendor_emails_string }}",
        "subject": "=Resumen {{ $('fireflies1').item.json.data.transcript.title }}",
        "bodyContent": "=<p><b>ðŸ“„ Resumen:</b></p>\n<p>{{ $('fireflies1').item.json.data.transcript.summary.short_summary }}</p>\n\n<hr>\n\n<p><b>âœ… Acuerdos:</b></p>\n<ul style=\"margin:0; padding-left:20px;\">\n{{ $('fireflies1').item.json.data.transcript.summary.action_items\n  .split('\\n')\n  .filter(line => line.trim() !== '')\n  .map(line => {\n    if (/\\*\\*(.*?)\\*\\*/.test(line)) {\n      // LÃ­nea con **texto** -> se convierte en pÃ¡rrafo sin bullet y en negrita\n      return `</ul><p style=\"margin:10px 0 4px 0;\"><b>${line.replace(/\\*\\*/g, '')}</b></p><ul style=\"margin:0; padding-left:20px;\">`;\n    } else {\n      // LÃ­nea normal -> bullet\n      return `<li>${line}</li>`;\n    }\n  })\n  .join('') }}\n</ul>\n\n\n<hr>\n\n<p><b>ðŸ•’ Temas Tratados:</b></p>\n<div style=\"font-size:14px; line-height:1.6;\">\n{{ $('fireflies1').item.json.data.transcript.summary.shorthand_bullet\n  // Convierte **negritas** de Markdown a HTML\n  .replace(/\\*\\*(.*?)\\*\\*/g, '<b>$1</b>')\n  // Divide por saltos de lÃ­nea dobles (pÃ¡rrafos)\n  .split(/\\n{2,}/)\n  .filter(line => line.trim() !== '')\n  .map(block => `<p style=\"margin:0 0 10px 0;\">${block.replace(/\\n/g, '<br>')}</p>`)\n  .join('') }}\n</div>\n\n\n",
        "additionalFields": {
          "bodyContentType": "html"
        }
      },
      "type": "n8n-nodes-base.microsoftOutlook",
      "typeVersion": 2,
      "position": [
        1056,
        640
      ],
      "id": "7d12aac0-172a-4919-9c2b-820feadc063e",
      "name": "Enviar documento1",
      "webhookId": "7b94c5e5-baa8-4ada-aea4-9997c240c25f",
      "credentials": {
        "microsoftOutlookOAuth2Api": {
          "id": "3wq3MUjuKHh1AuNy",
          "name": "Microsoft Outlook account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        112,
        304
      ],
      "id": "4a91592a-2836-408b-9960-6e3ddca0fac6",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "ESQcfuiJYPWo7F8F",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. Obtener el array completo de participantes\nconst participantsArray = $('fireflies1').first().json.data.transcript.participants || [];\n\n// 2. Concatenar todos los strings en uno solo separado por comas\nconst allParticipantsString = participantsArray.join(',');\n\n// 3. Dividir y limpiar los emails\nconst mobilvendorEmails = allParticipantsString\n  .split(',')\n  .map(email => email.trim())\n  .filter(email => email.endsWith('@mobilvendor.com'));\n\n// 4. Eliminar duplicados\nconst uniqueMobilvendorEmails = [...new Set(mobilvendorEmails)];\n\n// 5. Devolver como array y como string\nreturn [\n  {\n    json: {\n      mobilvendor_emails: uniqueMobilvendorEmails,\n      mobilvendor_emails_string: uniqueMobilvendorEmails.join(',')\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        480,
        112
      ],
      "id": "76ad0c19-66a3-45cd-ae93-9af1c0e44038",
      "name": "emails mobilvendor"
    },
    {
      "parameters": {
        "amount": 60
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -272,
        336
      ],
      "id": "12d2429a-0220-424a-827e-e7d64b160b84",
      "name": "Wait1",
      "webhookId": "dbd3368b-b221-42df-9267-a578f436df30"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "20a67bc2-263f-48f2-8452-483dd5d86bb1",
              "leftValue": "={{ $json.summary }}",
              "rightValue": "lleno",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -288,
        128
      ],
      "id": "df9d4c5c-d426-4247-9e85-17bd3499da83",
      "name": "If2"
    },
    {
      "parameters": {
        "jsCode": "// Obtenemos el campo summary del JSON\nconst summaryObj = $json?.data?.transcript?.summary ?? null;\n\nlet summaryText = \"vacio\";\n\nif (summaryObj && typeof summaryObj === \"object\") {\n  // Si existe short_summary y no estÃ¡ vacÃ­o\n  if (summaryObj.short_summary && summaryObj.short_summary.trim() !== \"\") {\n    summaryText = \"lleno\";\n  }\n}\n\nreturn [\n  {\n    json: {\n      summary: summaryText,\n      originalData: $json\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -448,
        128
      ],
      "id": "8142e03c-9107-4b6d-8a1b-a763266fb86e",
      "name": "Code1"
    }
  ],
  "pinData": {
    "Webhook1": [
      {
        "json": {
          "headers": {
            "host": "n8n.mobilvendor.com",
            "user-agent": "axios/1.12.2",
            "content-length": "80",
            "accept": "application/json, text/plain, */*",
            "accept-encoding": "gzip, compress, deflate, br",
            "baggage": "sentry-environment=production,sentry-release=a7236063ecd9a3b4488959c8919a2c1e6ba79ce9,sentry-public_key=010261725034495cbd9605cd1d3c1a2d,sentry-trace_id=47942d334aa54272bf584248c29e22c0",
            "content-type": "application/json",
            "sentry-trace": "47942d334aa54272bf584248c29e22c0-abf061bbfc83d20b",
            "x-forwarded-for": "172.19.0.1",
            "x-forwarded-host": "n8n.mobilvendor.com",
            "x-forwarded-port": "443",
            "x-forwarded-proto": "https",
            "x-forwarded-server": "b914648e9224",
            "x-real-ip": "172.19.0.1"
          },
          "params": {},
          "query": {},
          "body": {
            "meetingId": "01K8JY2Y24CK9TWDPH9HTD1K9X",
            "eventType": "Transcription completed"
          },
          "webhookUrl": "https://n8n.mobilvendor.com/webhook/951deb53-5f0c-4653-98d0-764cc71816e6",
          "executionMode": "production"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-09-09T20:45:56.950Z",
      "updatedAt": "2025-09-09T20:45:56.950Z",
      "role": "workflow:owner",
      "workflowId": "fwiQwnQbap3HfTt0",
      "projectId": "IcIKCrtLDXlTBTP5"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-10-31T16:31:26.000Z",
  "versionId": "841ed7f0-98a2-40fa-bad6-6c18a883e38d"
}